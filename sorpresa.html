<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Para vos ðŸ’–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      background: black;
      color: white;
      overflow: hidden;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    #letra {
      position: absolute;
      bottom: 15%;
      width: 100%;
      font-size: 24px;
      padding: 20px;
      text-shadow: 0 0 12px rgba(255, 0, 0, 0.8);
      min-height: 70px;
      z-index: 5;
    }

    .corazon {
      position: absolute;
      top: -50px;
      font-size: 22px;
      animation: caer linear forwards;
      color: #ff2f7a;
      opacity: 0.9;
      filter: drop-shadow(0 0 6px #ff2f7a);
      pointer-events: none;
      z-index: 1;
    }

    @keyframes caer {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    #play {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      background: rgba(0,0,0,0.7);
      z-index: 10;
      cursor: pointer;
    }

    #fin {
      position: absolute;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 26px;
      background: rgba(0,0,0,0.85);
      z-index: 10;
      color: #ff7aa2;
      text-shadow: 0 0 10px #ff2f7a;
      padding: 20px;
      text-align: center;
    }

    /* ðŸ“¸ Fotos */
    .foto-random {
      position: absolute;
      max-width: 180px;
      max-height: 180px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      opacity: 0;
      animation: aparecer 7s ease forwards;
      z-index: 3;
      object-fit: cover;
      background: rgba(255,255,255,0.05);
    }

    .foto-final {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      max-width: 85vw;
      max-height: 85vh;
      z-index: 6;
      animation: aparecerFinal 4s ease forwards;
      border-radius: 18px;
      box-shadow: 0 0 40px rgba(255, 47, 122, 0.8);
    }

    @keyframes aparecer {
      0%   { opacity: 0; transform: scale(0.9); }
      15%  { opacity: 1; transform: scale(1); }
      75%  { opacity: 1; }
      100% { opacity: 0; transform: scale(1.05); }
    }

    @keyframes aparecerFinal {
      from { opacity: 0; transform: translate(-50%, -50%) scale(0.6); }
      to   { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }

    /* ðŸ’¥ ExplosiÃ³n de corazones */
    .explosion {
      position: fixed;
      left: 50%;
      top: 50%;
      font-size: 22px;
      animation: explotar 2s ease-out forwards;
      pointer-events: none;
      z-index: 7;
    }

    @keyframes explotar {
      to {
        transform: translate(var(--x), var(--y)) scale(2);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

<div id="play">TocÃ¡ para empezar ðŸ’–</div>
<div id="fin">Gracias por hacerme sentir tan valioso. ðŸ’ž<br>Te amo mas de lo que las palabras puedan expresar.</div>

<audio id="musica" src="musica.mp3"></audio>
<div id="letra"></div>

<script>
const letra = [
  "Si supieras lo que siento con mirarte",
  "No lo dudarÃ­as ni un instante",
  "En mi cielo eres la estrella mÃ¡s brillante",
  "Para que no me cueste encontrarte",
  "MirÃ¡ mi amor, te lo digo de una vez",
  "Pa' que no se te olvide",
  "Que mi corazÃ³n",
  "SonrÃ­e si te ve y que por ti Ã©l vive",
  "No hace falta",
  "Que me digas siempre que me quieres",
  "No hace falta, que me preguntes",
  "Si hay mÃ¡s mujeres en mi cama, no",
  "Si tÃº eres la Ãºnica que duerme",
  "Entre mis sÃ¡banas"
];

const tiempos = [15,19,23,27,30,34,38,41,48,50,52,54,57,59];

const fotos = [
  "img/foto1.jpeg","img/foto2.jpeg","img/foto3.jpeg","img/foto4.jpeg","img/foto5.jpeg",
  "img/foto6.jpeg","img/foto7.jpeg","img/foto8.jpeg","img/foto9.jpeg","img/foto10.jpeg"
];

const audio = document.getElementById("musica");
const contenedor = document.getElementById("letra");
const play = document.getElementById("play");
const fin = document.getElementById("fin");

play.addEventListener("click", () => {
  audio.play().then(() => play.style.display = "none");
});

let index = 0;
setInterval(() => {
  if (!audio.paused && index < letra.length && audio.currentTime >= tiempos[index]) {
    contenedor.innerText = letra[index];
    index++;
  }
}, 120);

// ðŸŒ¹ Corazones cayendo
function crearCorazon() {
  const c = document.createElement("div");
  c.className = "corazon";
  c.innerText = "â¤";
  c.style.left = Math.random() * window.innerWidth + "px";
  c.style.fontSize = (14 + Math.random() * 22) + "px";
  c.style.animationDuration = (4 + Math.random() * 4) + "s";
  document.body.appendChild(c);
  setTimeout(() => c.remove(), 8000);
}
setInterval(crearCorazon, 280);

// ðŸ“¸ Fotos sincronizadas entre 00:15 y 00:59
let fotosMostradas = 0;
const inicioFotos = 15;
const finFotos = 59;
const intervaloFotos = (finFotos - inicioFotos) / fotos.length;

const timerFotos = setInterval(() => {
  if (!audio.paused && fotosMostradas < fotos.length) {
    const tiempoObjetivo = inicioFotos + fotosMostradas * intervaloFotos;
    if (audio.currentTime >= tiempoObjetivo) {
      mostrarFoto();
      fotosMostradas++;
    }
  }
}, 200);

function mostrarFoto() {
  const esFinal = fotosMostradas === fotos.length - 1;
  const img = document.createElement("img");
  img.src = fotos[fotosMostradas % fotos.length];

  if (esFinal) {
    img.className = "foto-final";
    document.body.appendChild(img);
    explosionCorazones();
  } else {
    img.className = "foto-random";
    const x = Math.random() * (window.innerWidth - 200);
    const y = Math.random() * (window.innerHeight - 200);
    img.style.left = Math.max(10, x) + "px";
    img.style.top = Math.max(10, y) + "px";
    document.body.appendChild(img);
    setTimeout(() => img.remove(), 7000);
  }
}

// ðŸ’¥ ExplosiÃ³n de corazones al final
function explosionCorazones() {
  for (let i = 0; i < 30; i++) {
    const h = document.createElement("div");
    h.className = "explosion";
    h.innerText = "ðŸ’–";
    h.style.setProperty("--x", (Math.random() * 300 - 150) + "px");
    h.style.setProperty("--y", (Math.random() * 300 - 150) + "px");
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 2000);
  }
}

// ðŸŽ¬ Final suave cuando termina la voz
audio.addEventListener("timeupdate", () => {
  if (audio.currentTime >= 64) fin.style.display = "flex";
});
</script>

</body>
</html>
